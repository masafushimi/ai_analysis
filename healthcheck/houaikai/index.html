<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¥è¨ºæ¥­å‹™AIå¤‰é© ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Tech (Background: #F8F7F4, Main Text: #3C3C3B, Primary UI: #6D8299, Accent: #0F766E, Highlight: #F0EAD6) -->
    <!-- Application Structure Plan: A dashboard-centric SPA. The main view provides a high-level overview with a comparative bar chart of savings per department. Users click on a department to dynamically load a detailed view. This detailed view uses a 'before/after' grouped bar chart for task-level efficiency gains and interactive cards for qualitative data. This hub-and-spoke model avoids overwhelming the user with a long scroll, promotes exploration, and makes complex data digestible by moving from summary to detail. An interactive timeline for the implementation roadmap is also included. -->
    <!-- Visualization & Content Choices: Report Info: Overall savings -> Goal: Inform -> Viz: Big stat card -> Interaction: Animation -> Justification: Immediate impact. Report Info: Departmental savings % -> Goal: Compare -> Viz: Horizontal Bar Chart (Chart.js) -> Interaction: Hover tooltips -> Justification: Easy comparison. Report Info: Task-level hours -> Goal: Compare/Analyze -> Viz: Grouped Bar Chart (Chart.js) -> Interaction: Click on bars/labels to show details -> Justification: Clear before/after comparison. Report Info: Task details -> Goal: Inform/Organize -> Viz: Interactive Cards/Accordion (HTML/JS) -> Interaction: Click to reveal -> Justification: Progressive disclosure, avoids clutter. Report Info: Implementation Plan -> Goal: Organize/Change -> Viz: CSS Timeline -> Interaction: Click to expand -> Justification: Visualizes process over time. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #F8F7F4;
            color: #3C3C3B;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 50vh;
        }
        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
                max-height: 60vh;
            }
        }
        .nav-card.active {
            background-color: #0F766E;
            color: white;
            transform: scale(1.05);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .tab-button.active {
            border-color: #0F766E;
            background-color: #0F766E;
            color: white;
        }
        .task-card-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .task-card.open .task-card-content {
            max-height: 1000px;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-20 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <h1 class="text-2xl font-bold text-gray-800">å¥è¨ºæ¥­å‹™AIå¤‰é©ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>
                <p class="text-gray-500 mt-2 md:mt-0">AIå°å…¥ã«ã‚ˆã‚‹æ¥­å‹™åŠ¹ç‡åŒ–ã®å¯èƒ½æ€§ã‚’æ¢ã‚‹</p>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">
        
        <!-- Executive Summary -->
        <section id="summary" class="mb-12 md:mb-16 bg-white p-6 rounded-xl shadow-lg">
            <h2 class="text-2xl md:text-3xl font-bold text-center text-teal-800 mb-2">AIã«ã‚ˆã‚‹æ¥­å‹™å¤‰é©ã®ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆ</h2>
            <p class="text-center text-gray-600 mb-8 max-w-3xl mx-auto">ç”ŸæˆAIãŠã‚ˆã³è‡ªå‹•åŒ–æŠ€è¡“ã®ä½“ç³»çš„ãªå°å…¥ã«ã‚ˆã‚Šã€ç®¡ç†éƒ¨é–€å…¨ä½“ã®æ¥­å‹™å·¥æ•°ã‚’å¤§å¹…ã«å‰Šæ¸›ã—ã€å—è¨ºè€…æº€è¶³åº¦ã®å‘ä¸Šã¨ãƒ’ãƒ¥ãƒ¼ãƒãƒ³ã‚¨ãƒ©ãƒ¼ã®æ’²æ»…ã‚’å®Ÿç¾ã—ã¾ã™ã€‚</p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                <div class="bg-teal-50 p-6 rounded-lg">
                    <p class="text-4xl font-bold text-teal-700">30-40%</p>
                    <p class="text-gray-600 mt-2">ç®¡ç†éƒ¨é–€å…¨ä½“ã®æƒ³å®šå·¥æ•°å‰Šæ¸›ç‡</p>
                </div>
                <div class="bg-sky-50 p-6 rounded-lg">
                    <p class="text-4xl font-bold text-sky-700">90%<span class="text-2xl ml-1">è¶…</span></p>
                    <p class="text-gray-600 mt-2">å®šå‹æ¥­å‹™ã«ãŠã‘ã‚‹ãƒ’ãƒ¥ãƒ¼ãƒãƒ³ã‚¨ãƒ©ãƒ¼å‰Šæ¸›</p>
                </div>
                <div class="bg-amber-50 p-6 rounded-lg">
                    <p class="text-4xl font-bold text-amber-700">24/7</p>
                    <p class="text-gray-600 mt-2">äºˆç´„ãƒ»å•ã„åˆã‚ã›è‡ªå‹•å¯¾å¿œä½“åˆ¶</p>
                </div>
            </div>
        </section>

        <!-- Department Overview Chart -->
        <section id="overview" class="mb-12 md:mb-16">
            <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">éƒ¨é–€åˆ¥ æ¥­å‹™å·¥æ•°å‰Šæ¸›ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«</h2>
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg">
                <div class="chart-container" style="height: 450px; max-height: 70vh;">
                    <canvas id="overviewChart"></canvas>
                </div>
            </div>
        </section>
        
        <!-- Department Navigation -->
        <section id="navigation" class="mb-12 md:mb-16">
            <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">éƒ¨é–€åˆ¥ è©³ç´°åˆ†æ</h2>
            <p class="text-center text-gray-600 mb-8 max-w-2xl mx-auto">å„éƒ¨é–€ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€AIå°å…¥ã«ã‚ˆã‚‹å…·ä½“çš„ãªæ¥­å‹™å¤‰é©ã‚·ãƒŠãƒªã‚ªã¨åŠ¹æœã‚’ã”è¦§ãã ã•ã„ã€‚</p>
            <div id="departmentNav" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4 md:gap-6">
                <!-- Navigation Cards will be inserted here by JS -->
            </div>
        </section>

        <!-- Department Detail View -->
        <section id="departmentDetail" class="mb-12 md:mb-16 bg-white p-6 md:p-8 rounded-xl shadow-lg min-h-[500px]">
            <!-- Department specific content will be loaded here -->
        </section>

        <!-- Implementation Roadmap -->
        <section id="roadmap">
            <h2 class="text-2xl font-bold text-center text-gray-800 mb-8">æ®µéšçš„å°å…¥ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—</h2>
            <div class="relative wrap overflow-hidden p-10 h-full">
                <div class="border-2-2 absolute border-opacity-20 border-gray-700 h-full border" style="left: 50%"></div>
                <!-- Phases will be inserted here by JS -->
            </div>
        </section>
    </main>

    <footer class="bg-gray-800 text-white mt-16">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 text-center text-sm">
            <p>&copy; 2025 AI-Powered Health Screening Transformation. All Rights Reserved.</p>
            <p class="mt-1 text-gray-400">ã“ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¯åˆ†æãƒ¬ãƒãƒ¼ãƒˆã‚’åŸºã«ç”Ÿæˆã•ã‚ŒãŸã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªå¯è¦–åŒ–ãƒ‡ãƒ¼ã‚¿ã§ã™ã€‚</p>
        </div>
    </footer>

    <script>
        const reportData = {
            departments: [
                { id: 'reception', name: '1. å—ä»˜ãƒ»äºˆç´„', icon: 'ğŸ“', reduction: 58, summary: 'æœ€åˆã®æ¥ç‚¹ã¨ã—ã¦ã€å•ã„åˆã‚ã›ã‹ã‚‰äºˆç´„ã€æ¥é™¢å—ä»˜ã¾ã§ã‚’ç®¡ç†ã€‚AIå°å…¥ã§æ©Ÿä¼šæå¤±ã‚’é˜²ãã€ã‚¹ã‚¿ãƒƒãƒ•ã‚’é«˜ä»˜åŠ ä¾¡å€¤æ¥­å‹™ã¸ã‚·ãƒ•ãƒˆã•ã›ã¾ã™ã€‚', roleChange: { from: 'ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†ä¿‚', to: 'ãƒšã‚¤ã‚·ã‚§ãƒ³ãƒˆãƒ»ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ãƒ»ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ã‚¿ãƒ¼' }, tasks: [
                    { name: 'é›»è©±äºˆç´„å¯¾å¿œ', current: 200, reduced: 40, ai: 'AIãƒœã‚¤ã‚¹ãƒœãƒƒãƒˆã«ã‚ˆã‚‹24æ™‚é–“365æ—¥ã®è‡ªå‹•äºˆç´„å—ä»˜', effect: 'æ©Ÿä¼šæå¤±é˜²æ­¢ã€å¿œå¯¾å“è³ªå‡ä¸€åŒ–' },
                    { name: 'WEBäºˆç´„å†…å®¹ç¢ºèª', current: 80, reduced: 20, ai: 'RPAã«ã‚ˆã‚‹äºˆç´„ãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•ã‚·ã‚¹ãƒ†ãƒ ç™»éŒ²ã¨ä¸å‚™ç¢ºèª', effect: 'ãƒ’ãƒ¥ãƒ¼ãƒãƒ³ã‚¨ãƒ©ãƒ¼æ’²æ»…ã€äºˆç´„ç¢ºå®šã®è¿…é€ŸåŒ–' },
                    { name: 'çª“å£ã§ã®æœ¬äººç¢ºèª', current: 180, reduced: 90, ai: 'AI-OCRã«ã‚ˆã‚‹ä¿é™ºè¨¼ãƒ»å•è¨ºç¥¨ã®è‡ªå‹•ãƒ‡ãƒ¼ã‚¿åŒ–', effect: 'å¾…ã¡æ™‚é–“å‰Šæ¸›ã€ãƒ‡ãƒ¼ã‚¿å…¥åŠ›ç²¾åº¦å‘ä¸Š' },
                    { name: 'å•è¨ºç¥¨ç™ºé€', current: 100, reduced: 60, ai: 'RPAã«ã‚ˆã‚‹å®›åãƒ‡ãƒ¼ã‚¿æŠ½å‡ºã¨ãƒ©ãƒ™ãƒ«å°åˆ·ã®è‡ªå‹•åŒ–', effect: 'èª¤ç™ºé€ãƒªã‚¹ã‚¯ä½æ¸›ã€ä½œæ¥­è¿…é€ŸåŒ–' },
                    { name: 'å•ã„åˆã‚ã›å¯¾å¿œ', current: 120, reduced: 36, ai: 'FAQã‚’å­¦ç¿’ã—ãŸAIãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã«ã‚ˆã‚‹è‡ªå‹•å¿œç­”', effect: 'ã‚¹ã‚¿ãƒƒãƒ•ã®å˜ç´”ä½œæ¥­ã‹ã‚‰ã®è§£æ”¾ã€24æ™‚é–“å¯¾å¿œ' }
                ]},
                { id: 'operation', name: '2. å¥è¨ºã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³', icon: 'ğŸƒ', reduction: 72, summary: 'æ–½è¨­å†…ã®å‹•ç·šã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç®¡ç†ã—ã€å¾…ã¡æ™‚é–“ã‚’æœ€å°åŒ–ã€‚AIãŒå—è¨ºè€…ä¸€äººã²ã¨ã‚Šã«æœ€é©åŒ–ã•ã‚ŒãŸã€Œãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºãƒ‰ãƒ»ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ã€ã‚’å®Ÿç¾ã—ã¾ã™ã€‚', roleChange: { from: 'æ¡ˆå†…ä¿‚', to: 'ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ãƒ»ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼' }, tasks: [
                    { name: 'æ¤œæŸ»é †åºæ¡ˆå†…', current: 250, reduced: 100, ai: 'AIãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ã‚¹ãƒ†ãƒ ãŒæœ€é©ãªæ¤œæŸ»é †è·¯ã‚’å‹•çš„ã«æŒ‡ç¤º', effect: 'å¾…ã¡æ™‚é–“ã®å¤§å¹…çŸ­ç¸®ã€æº€è¶³åº¦å‘ä¸Š' },
                    { name: 'æ··é›‘çŠ¶æ³æŠŠæ¡', current: 100, reduced: 20, ai: 'Bluetoothãƒ“ãƒ¼ã‚³ãƒ³ç­‰ã§å—è¨ºè€…ã®ä½ç½®æƒ…å ±ã‚’è‡ªå‹•æŠŠæ¡', effect: 'ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãªçŠ¶æ³æŠŠæ¡ã€ã‚¹ã‚¿ãƒƒãƒ•å·¡å›æ¥­å‹™å‰Šæ¸›' },
                    { name: 'æ¤œæŸ»ã®é€²æ—ç®¡ç†', current: 120, reduced: 24, ai: 'NFCã‚„Bluetoothã§é€²æ—ã‚’è‡ªå‹•è¨˜éŒ²ã—ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å¯è¦–åŒ–', effect: 'æ‰‹å‹•ç®¡ç†ã®æ’²æ»…ã€æ­£ç¢ºãªãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°' },
                    { name: 'æ¤œæŸ»æ¼ã‚Œã®ç¢ºèª', current: 50, reduced: 5, ai: 'AIã‚·ã‚¹ãƒ†ãƒ ãŒæœªå®Ÿæ–½æ¤œæŸ»ã‚’è‡ªå‹•ç…§åˆã—ã€å³æ™‚ã‚¢ãƒ©ãƒ¼ãƒˆ', effect: 'æ¤œæŸ»æ¼ã‚Œã®æ’²æ»…ã€ã‚¯ãƒ¬ãƒ¼ãƒ é˜²æ­¢' }
                ]},
                { id: 'nursing', name: '3. çœ‹è­·ãƒ»æ¡è¡€', icon: 'ğŸ©¸', reduction: 67, summary: 'æ¡è¡€ã‚„å„ç¨®æ¸¬å®šã€è¨˜éŒ²æ¥­å‹™ã‚’æ‹…å½“ã€‚AIãŒè¨˜éŒ²æ¥­å‹™ã‚’è‡ªå‹•åŒ–ã—ã€çœ‹è­·å¸«ãŒæœ¬æ¥ã®è‡¨åºŠã‚±ã‚¢ã«é›†ä¸­ã§ãã‚‹ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚', roleChange: { from: 'è¨˜éŒ²è€…', to: 'è‡¨åºŠã‚±ã‚¢å°‚é–€å®¶' }, tasks: [
                    { name: 'è¡€åœ§ãƒ»èº«é•·ãƒ»ä½“é‡æ¸¬å®š', current: 150, reduced: 30, ai: 'Bluetoothå¯¾å¿œæ©Ÿå™¨ã‹ã‚‰é›»å­ã‚«ãƒ«ãƒ†ã¸æ¸¬å®šå€¤ã‚’è‡ªå‹•è»¢é€', effect: 'è»¢è¨˜ãƒŸã‚¹æ’²æ»…ã€è¨˜éŒ²æ¥­å‹™ã®å®Œå…¨è‡ªå‹•åŒ–' },
                    { name: 'æ¤œæŸ»å‰å¾Œã®æ³¨æ„äº‹é …èª¬æ˜', current: 100, reduced: 60, ai: 'ç”ŸæˆAIãŒæ¨™æº–åŒ–ã•ã‚ŒãŸå¤šè¨€èªå¯¾å¿œã®èª¬æ˜ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç”Ÿæˆ', effect: 'èª¬æ˜å“è³ªã®å‡ä¸€åŒ–ã€å¤–å›½äººå¯¾å¿œåŠ›å‘ä¸Š' },
                    { name: 'çœ‹è­·è¨˜éŒ²ã®ä½œæˆ', current: 130, reduced: 26, ai: 'AIéŸ³å£°èªè­˜ãŒå‡¦ç½®ä¸­ã®ç™ºè©±ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã‚«ãƒ«ãƒ†ã«è‡ªå‹•å…¥åŠ›', effect: 'è¨˜éŒ²æ¥­å‹™ã‹ã‚‰ã®è§£æ”¾ã€æ‚£è€…ã‚±ã‚¢ã¸ã®é›†ä¸­' }
                ]},
                { id: 'radiology', name: '4. æ”¾å°„ç·šãƒ»ç”»åƒæ¤œæŸ»', icon: 'â˜¢ï¸', reduction: 31, summary: 'å„ç¨®ç”»åƒè¨ºæ–­è£…ç½®ã‚’æ“ä½œã—ã€è¨ºæ–­ä¾¡å€¤ã®é«˜ã„ç”»åƒã‚’ç”Ÿæˆã€‚AIãŒæ’®å½±æ¡ä»¶ã®æœ€é©åŒ–ã‚„å“è³ªç®¡ç†ã‚’æ”¯æ´ã—ã€è¨ºæ–­ç²¾åº¦ã¨å®‰å…¨æ€§ã‚’é«˜ã‚ã¾ã™ã€‚', roleChange: { from: 'æ’®å½±æŠ€è¡“è€…', to: 'AIå”åƒå‹ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ³ã‚°å°‚é–€å®¶' }, tasks: [
                    { name: 'æ¤œæŸ»ã®å®Ÿæ–½ãƒ»æ’®å½±', current: 350, reduced: 280, ai: 'AIæ­è¼‰è£…ç½®ãŒæœ€é©ãªæ’®å½±ä½ç½®ã‚„ç¯„å›²ã‚’è‡ªå‹•è¨­å®š', effect: 'æ’®å½±æ™‚é–“çŸ­ç¸®ã€æŠ€å¸«ã®è² æ‹…è»½æ¸›' },
                    { name: 'æ’®å½±æ¡ä»¶ã®æœ€é©åŒ–', current: 80, reduced: 40, ai: 'AIãŒå€‹ã€…ã®å—è¨ºè€…ã«æœ€é©ãªæ’®å½±ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’ææ¡ˆ', effect: 'æ’®å½±å“è³ªã®æ¨™æº–åŒ–ã€ä¸è¦ãªè¢«ã°ãã®ä½æ¸›' },
                    { name: 'ç”»åƒã®å“è³ªç®¡ç†ï¼ˆQCï¼‰', current: 60, reduced: 30, ai: 'AIãŒæ’®å½±ç”»åƒã‚’è‡ªå‹•è§£æã—ã€å“è³ªå•é¡Œã‚’æ¤œå‡º', effect: 'å®¢è¦³çš„ã‹ã¤è¿…é€Ÿãªå“è³ªè©•ä¾¡ã€å†æ’®å½±åˆ¤æ–­æ”¯æ´' }
                ]},
                { id: 'doctor', name: '5. åŒ»å¸«è¨ºå¯Ÿãƒ»çµæœåˆ¤å®š', icon: 'ğŸ©º', reduction: 48, summary: 'è¨ºå¯Ÿã€æ¤œæŸ»çµæœã®çµ±åˆè©•ä¾¡ã€ç·åˆåˆ¤å®šã‚’æ‹…å½“ã€‚AIãŒæ–‡æ›¸ä½œæˆæ¥­å‹™ã‚’åŠ‡çš„ã«å‰Šæ¸›ã—ã€åŒ»å¸«ãŒå—è¨ºè€…ã¨å‘ãåˆã†æ™‚é–“ã‚’å‰µå‡ºã—ã¾ã™ã€‚', roleChange: { from: 'ãƒ‡ãƒ¼ã‚¿å…¥åŠ›è€…', to: 'è‡¨åºŠåˆ¤æ–­ã¨å¯¾è©±ã®å°‚é–€å®¶' }, tasks: [
                    { name: 'å¯¾é¢è¨ºå¯Ÿãƒ»å•è¨º', current: 200, reduced: 100, ai: 'AIã‚¯ãƒ©ãƒ¼ã‚¯ãŒè¨ºå¯Ÿä¸­ã®ä¼šè©±ã‚’ã‚«ãƒ«ãƒ†ä¸‹æ›¸ãã¨ã—ã¦è‡ªå‹•ç”Ÿæˆ', effect: 'åŒ»å¸«ã®å¯¾è©±æ™‚é–“å¢—åŠ ã€ä¿¡é ¼é–¢ä¿‚æ§‹ç¯‰' },
                    { name: 'æ¤œæŸ»çµæœã®çµ±åˆçš„ãƒ¬ãƒ“ãƒ¥ãƒ¼', current: 250, reduced: 150, ai: 'AIãŒç•°å¸¸å€¤ã‚„çµŒå¹´å¤‰åŒ–ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆã™ã‚‹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ç”Ÿæˆ', effect: 'åˆ¤å®šæ¥­å‹™ã®è¿…é€ŸåŒ–ã€è¦‹è½ã¨ã—ãƒªã‚¹ã‚¯ä½æ¸›' },
                    { name: 'ç·åˆåˆ¤å®šãƒ»æ‰€è¦‹ã®ä½œæˆ', current: 300, reduced: 120, ai: 'ç”ŸæˆAIãŒæ¤œæŸ»ãƒ‡ãƒ¼ã‚¿ã¨å•è¨ºå†…å®¹ã‹ã‚‰æ‰€è¦‹ãƒ‰ãƒ©ãƒ•ãƒˆã‚’è‡ªå‹•ä½œæˆ', effect: 'åŒ»å¸«ã®æ–‡æ›¸ä½œæˆè² æ‹…ã‚’åŠ‡çš„ã«å‰Šæ¸›ã€ç‡ƒãˆå°½ãé˜²æ­¢' },
                    { name: 'çµæœèª¬æ˜ãƒ»ä¿å¥æŒ‡å°', current: 150, reduced: 105, ai: 'ç”ŸæˆAIãŒå¹³æ˜“ãªè¨€è‘‰ã§æ›¸ã‹ã‚ŒãŸçµæœèª¬æ˜ã®è¦ç´„ã‚’ä½œæˆ', effect: 'å—è¨ºè€…ã®ç†è§£åº¦å‘ä¸Šã€æŒ‡å°ã®ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºåŒ–' }
                ]},
                { id: 'reporting', name: '6. çµæœãƒ¬ãƒãƒ¼ãƒˆä½œæˆãƒ»ç™ºé€', icon: 'âœ‰ï¸', reduction: 88, summary: 'çµæœãƒ‡ãƒ¼ã‚¿ã‚’é›†ç´„ã—ã€å ±å‘Šæ›¸ã‚’ä½œæˆãƒ»ç™ºé€ã€‚RPAã¨ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒ¼ã‚¿ãƒ«å°å…¥ã§ã€ãƒ’ãƒ¥ãƒ¼ãƒãƒ³ã‚¨ãƒ©ãƒ¼ã¨ã‚³ã‚¹ãƒˆã‚’ã»ã¼ã‚¼ãƒ­ã«ã—ã¾ã™ã€‚', roleChange: { from: 'å°åˆ·ãƒ»ç™ºé€ä¿‚', to: 'å¥åº·æƒ…å ±ãƒãƒ–ç®¡ç†è€…' }, tasks: [
                    { name: 'ãƒ‡ãƒ¼ã‚¿é›†ç´„ã¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ', current: 200, reduced: 20, ai: 'RPAãŒå…¨ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•æŠ½å‡ºã—ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«è‡ªå‹•æµã—è¾¼ã¿', effect: 'æ‰‹ä½œæ¥­ã«ã‚ˆã‚‹è»¢è¨˜ãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ¥­å‹™ã®å®Œå…¨è‡ªå‹•åŒ–' },
                    { name: 'åŒ»å¸«æ‰€è¦‹ã®è»¢è¨˜ãƒ»å…¥åŠ›', current: 150, reduced: 8, ai: 'åŒ»å¸«ãŒæ‰¿èªã—ãŸæ‰€è¦‹ãƒ‡ãƒ¼ã‚¿ã‚’RPAãŒè‡ªå‹•é€£æº', effect: 'è»¢è¨˜ãƒŸã‚¹ã®ãƒªã‚¹ã‚¯ã‚¼ãƒ­ã€æ™‚é–“çŸ­ç¸®' },
                    { name: 'å ±å‘Šæ›¸ã®å°åˆ·ãƒ»å°å…¥ãƒ»ç™ºé€', current: 180, reduced: 36, ai: 'çµæœã‚’ãƒ‡ã‚¸ã‚¿ãƒ«é…ä¿¡ã™ã‚‹PHRã‚¢ãƒ—ãƒª/ãƒãƒ¼ã‚¿ãƒ«ã‚’å°å…¥', effect: 'å°åˆ·ãƒ»éƒµé€ã‚³ã‚¹ãƒˆã®å¤§å¹…å‰Šæ¸›ã€çµæœé€šçŸ¥ã®è¿…é€ŸåŒ–' },
                    { name: 'ä¼æ¥­å‘ã‘é›†è¨ˆãƒ¬ãƒãƒ¼ãƒˆä½œæˆ', current: 90, reduced: 18, ai: 'ç”ŸæˆAIãŒä¼æ¥­æ‹…å½“è€…å‘ã‘ã®è¦ç´„ãƒ¬ãƒãƒ¼ãƒˆã‚’è‡ªå‹•ç”Ÿæˆ', effect: 'ãƒ¬ãƒãƒ¼ãƒˆä½œæˆã®è¿…é€ŸåŒ–ã¨è³ªã®å‘ä¸Š' }
                ]},
                { id: 'sales', name: '7. ä¼æ¥­å¥‘ç´„ãƒ»æ¸‰å¤–', icon: 'ğŸ’¼', reduction: 53, summary: 'å›£ä½“å¥è¨ºã®å–¶æ¥­ã¨å¥‘ç´„ç®¡ç†ã€‚AIãŒææ¡ˆæ›¸ä½œæˆã‚’è‡ªå‹•åŒ–ã—ã€æ‹…å½“è€…ã‚’ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ãã€Œæˆ¦ç•¥çš„ãƒ˜ãƒ«ã‚¹ã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆã€ã¸ã¨é€²åŒ–ã•ã›ã¾ã™ã€‚', roleChange: { from: 'å–¶æ¥­æ‹…å½“', to: 'æˆ¦ç•¥çš„ãƒ˜ãƒ«ã‚¹ã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆ' }, tasks: [
                    { name: 'ææ¡ˆæ›¸ãƒ»è¦‹ç©æ›¸ä½œæˆ', current: 120, reduced: 36, ai: 'ç”ŸæˆAIãŒé¡§å®¢æƒ…å ±ã«åŸºã¥ãã€ææ¡ˆæ›¸ãƒ‰ãƒ©ãƒ•ãƒˆã‚’è‡ªå‹•ç”Ÿæˆ', effect: 'ææ¡ˆæ›¸ä½œæˆæ™‚é–“ã‚’åŠ‡çš„ã«çŸ­ç¸®ã€å“è³ªã®æ¨™æº–åŒ–' },
                    { name: 'å¥‘ç´„å¾Œã®ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—', current: 130, reduced: 65, ai: 'AIãŒå¥è¨ºçµæœãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æã—ã€ä¼æ¥­ã®å¥åº·èª²é¡Œã‚’å¯è¦–åŒ–ãƒ»ææ¡ˆ', effect: 'ãƒ‡ãƒ¼ã‚¿ãƒ‰ãƒªãƒ–ãƒ³ãªä»˜åŠ ä¾¡å€¤ææ¡ˆã€å¥‘ç´„ç¶­æŒç‡å‘ä¸Š' },
                    { name: 'å•ã„åˆã‚ã›å¯¾å¿œ', current: 80, reduced: 32, ai: 'ä¼æ¥­æ‹…å½“è€…å°‚ç”¨ã®AIãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã«ã‚ˆã‚‹24æ™‚é–“è‡ªå‹•å›ç­”', effect: 'æ¸‰å¤–æ‹…å½“ã®è² æ‹…è»½æ¸›ã€é¡§å®¢æº€è¶³åº¦å‘ä¸Š' }
                ]},
                { id: 'mobile', name: '8. å·¡å›å¥è¨ºæ”¯æ´', icon: 'ğŸšŒ', reduction: 80, summary: 'å¥è¨ºãƒã‚¹ã§ã®å‡ºå¼µå¥è¨ºã€‚ã‚¯ãƒ©ã‚¦ãƒ‰å‹ã‚·ã‚¹ãƒ†ãƒ å°å…¥ã§ã€ç¾å ´ã§ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿å…¥åŠ›ã‚’å®Ÿç¾ã—ã€å¸°æ‰€å¾Œã®äº‹å‹™ä½œæ¥­ã‚’ã‚¼ãƒ­ã«ã—ã¾ã™ã€‚', roleChange: { from: 'ãƒ‡ãƒ¼ã‚¿é‹æ¬ãƒ»å…¥åŠ›ä¿‚', to: 'ç¾å ´å®Œçµå‹ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼' }, tasks: [
                    { name: 'äº‹å‰æº–å‚™ï¼ˆåç°¿ãƒ»æ©Ÿæï¼‰', current: 100, reduced: 20, ai: 'ã‚¯ãƒ©ã‚¦ãƒ‰å‹å·¡å›å¥è¨ºã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚‹WEBå•è¨ºã¨ãƒšãƒ¼ãƒ‘ãƒ¼ãƒ¬ã‚¹åŒ–', effect: 'äº‹å‰æº–å‚™ã®å¤§å¹…ãªç°¡ç´ åŒ–ã€ã‚³ã‚¹ãƒˆå‰Šæ¸›' },
                    { name: 'ç¾å ´ã§ã®å—ä»˜ãƒ»æ¤œæŸ»å®Ÿæ–½', current: 200, reduced: 100, ai: 'ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆç«¯æœ«ã§æ¤œæŸ»çµæœã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç›´æ¥å…¥åŠ›', effect: 'æ‰‹æ›¸ãä½œæ¥­ã®æ’²æ»…ã€å…¥åŠ›ãƒŸã‚¹é˜²æ­¢' },
                    { name: 'å¸°æ‰€å¾Œã®ãƒ‡ãƒ¼ã‚¿å…¥åŠ›ãƒ»ç…§åˆ', current: 180, reduced: 0, ai: 'ã‚¯ãƒ©ã‚¦ãƒ‰çµŒç”±ã§ãƒ‡ãƒ¼ã‚¿ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸã•ã‚Œã€å…¥åŠ›ä½œæ¥­ãŒã‚¼ãƒ­ã«', effect: 'ãƒªãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ ã®åŠ‡çš„ãªçŸ­ç¸®ã€æ®‹æ¥­æ™‚é–“å‰Šæ¸›' },
                    { name: 'æ¤œæŸ»æ¼ã‚Œãƒ»ä¸å‚™ã®ç¢ºèª', current: 80, reduced: 8, ai: 'ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆä¸Šã§å¿…é ˆé …ç›®ãŒãƒªã‚¹ãƒˆåŒ–ã•ã‚Œã€æœªäº†é …ç›®ã‚’å³æ™‚ã‚¢ãƒ©ãƒ¼ãƒˆ', effect: 'ç¾å ´ã§ã®æ¤œæŸ»æ¼ã‚Œã‚’å®Œå…¨ã«é˜²æ­¢ã€ãƒ‡ãƒ¼ã‚¿å“è³ªå‘ä¸Š' }
                ]},
                { id: 'accounting', name: '9. äº‹å‹™ãƒ»ä¼šè¨ˆãƒ»è«‹æ±‚', icon: 'ğŸ’°', reduction: 75, summary: 'è«‹æ±‚æ›¸ç™ºè¡Œã‚„å…¥é‡‘ç®¡ç†ãªã©ã€‚RPAå°å…¥ã§è«‹æ±‚ã‹ã‚‰å…¥é‡‘æ¶ˆè¾¼ã¾ã§ã®åç›Šã‚µã‚¤ã‚¯ãƒ«å…¨ä½“ã‚’è‡ªå‹•åŒ–ã—ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼ã‚’æ”¹å–„ã—ã¾ã™ã€‚', roleChange: { from: 'æ‰‹å‹•ãƒ‡ãƒ¼ã‚¿å‡¦ç†ä¿‚', to: 'åç›Šã‚µã‚¤ã‚¯ãƒ«ç®¡ç†è€…' }, tasks: [
                    { name: 'è«‹æ±‚ãƒ‡ãƒ¼ã‚¿ä½œæˆ', current: 150, reduced: 30, ai: 'RPAãŒã‚«ãƒ«ãƒ†ã‹ã‚‰è«‹æ±‚æƒ…å ±ã‚’è‡ªå‹•æŠ½å‡ºã—ã€ä¼šè¨ˆã‚·ã‚¹ãƒ†ãƒ ã«è»¢è¨˜', effect: 'è«‹æ±‚ãƒ‡ãƒ¼ã‚¿ä½œæˆã®å®Œå…¨è‡ªå‹•åŒ–ã€ãƒ’ãƒ¥ãƒ¼ãƒãƒ³ã‚¨ãƒ©ãƒ¼æ’²æ»…' },
                    { name: 'è«‹æ±‚æ›¸ç™ºè¡Œãƒ»é€ä»˜', current: 120, reduced: 24, ai: 'RPAãŒè«‹æ±‚æ›¸PDFã‚’è‡ªå‹•ç”Ÿæˆã—ã€é›»å­è«‹æ±‚æ›¸ã‚’è‡ªå‹•é€ä»˜', effect: 'å°åˆ·ãƒ»éƒµé€ã‚³ã‚¹ãƒˆå‰Šæ¸›ã€æ¥­å‹™è¿…é€ŸåŒ–' },
                    { name: 'ãƒ¬ã‚»ãƒ—ãƒˆæ¥­å‹™', current: 100, reduced: 40, ai: 'RPAã¨AIã«ã‚ˆã‚‹ãƒ¬ã‚»ãƒ—ãƒˆãƒ‡ãƒ¼ã‚¿è‡ªå‹•ä½œæˆã¨ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯', effect: 'è¿”æˆ»ç‡ã®ä½ä¸‹ã€å°‚é–€ã‚¹ã‚¿ãƒƒãƒ•ã®è² æ‹…è»½æ¸›' },
                    { name: 'å…¥é‡‘æ¶ˆè¾¼ãƒ»æœªåé‡‘ç®¡ç†', current: 130, reduced: 39, ai: 'RPAã«ã‚ˆã‚‹è‡ªå‹•æ¶ˆè¾¼å‡¦ç†ã¨AIã«ã‚ˆã‚‹ç£ä¿ƒãƒ¡ãƒ¼ãƒ«è‡ªå‹•é€ä¿¡', effect: 'æ¶ˆè¾¼æ¥­å‹™ã®å¤§å¹…åŠ¹ç‡åŒ–ã€æœªåé‡‘ã®æ—©æœŸå›å' }
                ]},
                { id: 'admin', name: '10. ç·å‹™ãƒ»æ•™è‚²ãƒ»å“è³ª', icon: 'ğŸ“ˆ', reduction: 68, summary: 'è·å“¡ã®æ•™è‚²ã‚„å“è³ªç®¡ç†ã€‚AIãŒãƒãƒ‹ãƒ¥ã‚¢ãƒ«ä½œæˆã‚„ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆåˆ†æã‚’æ”¯æ´ã—ã€çµ„ç¹”ã‚’ãƒ—ãƒ­ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªç¶™ç¶šçš„æ”¹å–„ãƒ—ãƒ­ã‚»ã‚¹ã¸ã¨å°ãã¾ã™ã€‚', roleChange: { from: 'äº‹å¾Œå¯¾å¿œç®¡ç†è€…', to: 'ãƒ—ãƒ­ã‚¢ã‚¯ãƒ†ã‚£ãƒ–æ”¹å–„æ¨é€²è€…' }, tasks: [
                    { name: 'è¦ç¨‹ãƒ»ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ä½œæˆ', current: 80, reduced: 24, ai: 'ç”ŸæˆAIãŒè¦ç‚¹ã‹ã‚‰ä½“è£ã®æ•´ã£ãŸãƒãƒ‹ãƒ¥ã‚¢ãƒ«ãƒ‰ãƒ©ãƒ•ãƒˆã‚’è‡ªå‹•ç”Ÿæˆ', effect: 'ä½œæˆãƒªãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ ã‚’å¤§å¹…çŸ­ç¸®ã€å¸¸ã«æœ€æ–°ã®çŠ¶æ…‹ã‚’ç¶­æŒ' },
                    { name: 'æ–°äººãƒ»è·å“¡ç ”ä¿®ã®ä¼ç”»', current: 100, reduced: 50, ai: 'ç”ŸæˆAIãŒå¯¾è©±å½¢å¼ã®eãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è‡ªå‹•ä½œæˆ', effect: 'ç ”ä¿®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å¤šæ§˜åŒ–ã¨è³ªã®å‘ä¸Šã€æ•™è‚²ã‚³ã‚¹ãƒˆå‰Šæ¸›' },
                    { name: 'ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆãƒ¬ãƒãƒ¼ãƒˆåˆ†æ', current: 90, reduced: 27, ai: 'AIã®è‡ªç„¶è¨€èªå‡¦ç†ãŒå¤§é‡ã®ãƒ¬ãƒãƒ¼ãƒˆã‚’è§£æã—ã€å‚¾å‘ã‚’å¯è¦–åŒ–', effect: 'éš ã‚ŒãŸãƒªã‚¹ã‚¯è¦å› ã®æ—©æœŸç™ºè¦‹ã€å®¢è¦³çš„ãªå†ç™ºé˜²æ­¢ç­–' },
                    { name: 'å“è³ªæŒ‡æ¨™ï¼ˆKPIï¼‰ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°', current: 50, reduced: 15, ai: 'RPAã¨AIãŒKPIãƒ¬ãƒãƒ¼ãƒˆã‚’å®šæœŸçš„ã«å®Œå…¨è‡ªå‹•ç”Ÿæˆ', effect: 'ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã®å“è³ªçŠ¶æ³æŠŠæ¡ã€è¿…é€ŸãªçµŒå–¶åˆ¤æ–­æ”¯æ´' }
                ]}
            ],
            roadmap: [
                { phase: 1, title: 'ãƒãƒƒã‚¯ã‚ªãƒ•ã‚£ã‚¹ã®åŸºç›¤æ•´å‚™', duration: '0-6ãƒ¶æœˆ', content: 'ç´™ãƒ™ãƒ¼ã‚¹ã®å®šå‹æ¥­å‹™ã‚’RPAã¨AI-OCRã§è‡ªå‹•åŒ–ã€‚ROIã‚’æ—©æœŸã«å®Ÿè¨¼ã—ã€å¤‰é©ã¸ã®æ©Ÿé‹ã‚’é†¸æˆã—ã¾ã™ã€‚', focus: 'ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ, ä¼šè¨ˆ, ç·å‹™' },
                { phase: 2, title: 'è‡¨åºŠã®ä¸­æ ¸æ¥­å‹™ã®é©æ–°', duration: '6-18ãƒ¶æœˆ', content: 'AIéŸ³å£°èªè­˜ã‚’å°å…¥ã—ã€åŒ»å¸«ãƒ»çœ‹è­·å¸«ã‚’æ–‡æ›¸ä½œæˆæ¥­å‹™ã‹ã‚‰è§£æ”¾ã€‚åŒ»ç™‚ã®è³ªã«ç›´çµã™ã‚‹ã‚³ã‚¢æ¥­å‹™ã‚’å¤‰é©ã—ã¾ã™ã€‚', focus: 'åŒ»å¸«è¨ºå¯Ÿ, çœ‹è­·' },
                { phase: 3, title: 'å—è¨ºè€…ä½“é¨“ã®å…¨ä½“æœ€é©åŒ–', duration: '18-30ãƒ¶æœˆ', content: 'äºˆç´„ã‹ã‚‰æ¤œæŸ»çµ‚äº†ã¾ã§ã‚’AIã§ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«é€£æºã€‚å¾…ã¡æ™‚é–“ã‚’åŠ‡çš„ã«çŸ­ç¸®ã—ã€å—è¨ºè€…æº€è¶³åº¦ã‚’æœ€å¤§åŒ–ã—ã¾ã™ã€‚', focus: 'å—ä»˜ãƒ»äºˆç´„, ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³, å·¡å›' },
                { phase: 4, title: 'ãƒ‡ãƒ¼ã‚¿é§†å‹•å‹ã‚µãƒ¼ãƒ“ã‚¹ã¸ã®é€²åŒ–', duration: '30ãƒ¶æœˆä»¥é™', content: 'è“„ç©ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’æ´»ç”¨ã—ã€ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºãƒ‰å¥è¨ºã‚„å¥åº·çµŒå–¶ã‚³ãƒ³ã‚µãƒ«ãªã©é«˜ä»˜åŠ ä¾¡å€¤ã‚µãƒ¼ãƒ“ã‚¹ã‚’å±•é–‹ã—ã¾ã™ã€‚', focus: 'ä¼æ¥­å¥‘ç´„, å…¨éƒ¨é–€' },
            ]
        };

        let overviewChartInstance = null;
        let departmentChartInstance = null;

        document.addEventListener('DOMContentLoaded', () => {
            populateDepartmentNav();
            populateRoadmap();
            createOverviewChart();
            // Load the first department's detail view initially
            updateDepartmentView(reportData.departments[0].id);
        });

        function createOverviewChart() {
            const ctx = document.getElementById('overviewChart').getContext('2d');
            const data = {
                labels: reportData.departments.map(d => d.name.split('. ')[1]),
                datasets: [{
                    label: 'æƒ³å®šæ¥­å‹™å·¥æ•°å‰Šæ¸›ç‡ (%)',
                    data: reportData.departments.map(d => d.reduction),
                    backgroundColor: 'rgba(15, 118, 110, 0.6)',
                    borderColor: 'rgba(15, 118, 110, 1)',
                    borderWidth: 1,
                    hoverBackgroundColor: 'rgba(15, 118, 110, 0.9)'
                }]
            };

            if (overviewChartInstance) {
                overviewChartInstance.destroy();
            }

            overviewChartInstance = new Chart(ctx, {
                type: 'bar',
                data: data,
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            beginAtZero: true,
                            max: 100,
                            title: {
                                display: true,
                                text: 'å‰Šæ¸›ç‡ (%)'
                            }
                        },
                        y: {
                            ticks: {
                                autoSkip: false
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return ` ${context.dataset.label}: ${context.raw}%`;
                                }
                            }
                        }
                    },
                    onClick: (event, elements) => {
                        if (elements.length > 0) {
                            const index = elements[0].index;
                            const departmentId = reportData.departments[index].id;
                            updateDepartmentView(departmentId);
                            document.getElementById('departmentDetail').scrollIntoView({ behavior: 'smooth' });
                        }
                    }
                }
            });
        }

        function populateDepartmentNav() {
            const navContainer = document.getElementById('departmentNav');
            navContainer.innerHTML = reportData.departments.map(d => `
                <div id="nav-${d.id}" data-id="${d.id}" class="nav-card cursor-pointer bg-white p-4 rounded-lg shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 text-center">
                    <div class="text-4xl mb-2">${d.icon}</div>
                    <p class="font-semibold text-sm">${d.name.split('. ')[1]}</p>
                </div>
            `).join('');

            navContainer.addEventListener('click', (e) => {
                const card = e.target.closest('.nav-card');
                if (card) {
                    updateDepartmentView(card.dataset.id);
                }
            });
        }
        
        function updateDepartmentView(departmentId) {
            const department = reportData.departments.find(d => d.id === departmentId);
            if (!department) return;

            // Update active state for navigation
            document.querySelectorAll('.nav-card').forEach(card => {
                card.classList.toggle('active', card.dataset.id === departmentId);
            });

            const detailContainer = document.getElementById('departmentDetail');
            detailContainer.innerHTML = `
                <div class="text-center mb-8">
                    <h3 class="text-3xl font-bold text-gray-800">${department.name}</h3>
                    <p class="text-gray-600 mt-2 max-w-2xl mx-auto">${department.summary}</p>
                    <div class="mt-4 inline-block bg-amber-100 text-amber-800 px-4 py-2 rounded-full">
                        <span class="font-semibold">å½¹å‰²å¤‰é©:</span> ${department.roleChange.from} â†’ <span class="font-bold">${department.roleChange.to}</span>
                    </div>
                </div>

                <div class="mb-10">
                    <h4 class="text-xl font-bold text-center text-gray-700 mb-6">ã‚¿ã‚¹ã‚¯åˆ¥ å·¥æ•°å‰Šæ¸›åŠ¹æœ</h4>
                    <div class="chart-container">
                        <canvas id="departmentChart"></canvas>
                    </div>
                </div>
                
                <div>
                    <h4 class="text-xl font-bold text-center text-gray-700 mb-6">AIæ´»ç”¨ã‚·ãƒŠãƒªã‚ªè©³ç´°</h4>
                    <div id="task-details-container" class="space-y-4">
                        ${department.tasks.map((task, index) => `
                        <div class="task-card border border-gray-200 rounded-lg overflow-hidden">
                            <button data-task-index="${index}" class="task-card-header w-full text-left p-4 bg-gray-50 hover:bg-gray-100 transition flex justify-between items-center">
                                <span class="font-semibold">${task.name}</span>
                                <span class="text-teal-600 font-bold">â–¼ è©³ç´°</span>
                            </button>
                            <div class="task-card-content">
                                <div class="p-4 border-t border-gray-200 grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div class="bg-blue-50 p-3 rounded-md">
                                        <p class="font-semibold text-blue-800">ğŸ’¡ AIæ´»ç”¨æ–¹æ³•</p>
                                        <p class="text-sm text-blue-900 mt-1">${task.ai}</p>
                                    </div>
                                    <div class="bg-green-50 p-3 rounded-md">
                                        <p class="font-semibold text-green-800">âœ¨ å®šæ€§çš„åŠ¹æœ</p>
                                        <p class="text-sm text-green-900 mt-1">${task.effect}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        `).join('')}
                    </div>
                </div>
            `;
            
            // Add event listeners for task cards
            document.querySelectorAll('.task-card-header').forEach(header => {
                header.addEventListener('click', (e) => {
                    const card = e.currentTarget.closest('.task-card');
                    card.classList.toggle('open');
                });
            });


            createDepartmentChart(department);
        }

        function createDepartmentChart(department) {
            const ctx = document.getElementById('departmentChart').getContext('2d');
            const data = {
                labels: department.tasks.map(t => t.name),
                datasets: [
                    {
                        label: 'ç¾çŠ¶ã®æœˆé–“å·¥æ•° (æ™‚é–“)',
                        data: department.tasks.map(t => t.current),
                        backgroundColor: 'rgba(156, 163, 175, 0.5)',
                        borderColor: 'rgba(156, 163, 175, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'AIå°å…¥å¾Œã®å·¥æ•° (æ™‚é–“)',
                        data: department.tasks.map(t => t.reduced),
                        backgroundColor: 'rgba(15, 118, 110, 0.6)',
                        borderColor: 'rgba(15, 118, 110, 1)',
                        borderWidth: 1
                    }
                ]
            };

            if (departmentChartInstance) {
                departmentChartInstance.destroy();
            }

            departmentChartInstance = new Chart(ctx, {
                type: 'bar',
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'æœˆé–“å·¥æ•° (æ™‚é–“)'
                            }
                        },
                        x: {
                            ticks: {
                                callback: function(value, index, values) {
                                    const label = this.getLabelForValue(value);
                                    return label.length > 10 ? label.substring(0, 10) + '...' : label;
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                        }
                    }
                }
            });
        }
        
        function populateRoadmap() {
            const container = document.querySelector('#roadmap > .relative');
            const roadmapHtml = reportData.roadmap.map((phase, index) => {
                const isLeft = index % 2 === 0;
                return `
                <div class="mb-8 flex justify-between ${isLeft ? '' : 'flex-row-reverse'} items-center w-full left-timeline">
                    <div class="order-1 w-5/12"></div>
                    <div class="z-10 flex items-center order-1 bg-teal-700 shadow-xl w-12 h-12 rounded-full">
                        <h1 class="mx-auto font-semibold text-lg text-white">${phase.phase}</h1>
                    </div>
                    <div class="order-1 bg-white rounded-lg shadow-xl w-5/12 px-6 py-4">
                        <h3 class="font-bold text-gray-800 text-xl">${phase.title}</h3>
                        <p class="text-sm font-medium text-teal-600">${phase.duration}</p>
                        <p class="text-sm leading-snug tracking-wide text-gray-600 text-opacity-100 mt-2">${phase.content}</p>
                        <p class="text-xs text-gray-500 mt-2"><strong>ç„¦ç‚¹éƒ¨é–€:</strong> ${phase.focus}</p>
                    </div>
                </div>
                `;
            }).join('');
            container.innerHTML += roadmapHtml;
        }

    </script>
</body>
</html>
